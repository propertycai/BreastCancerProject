# ğŸ¥ ä¹³è…ºç™Œè¾…åŠ©è¯Šç–—ç³»ç»Ÿ

ä¸€ä¸ªåŸºäºæœºå™¨å­¦ä¹ çš„ä¹³è…ºç™Œè¯Šæ–­å’Œç”Ÿå­˜é¢„æµ‹è¾…åŠ©ç³»ç»Ÿï¼Œä¸ºåŒ»ç–—å·¥ä½œè€…æä¾›å†³ç­–æ”¯æŒã€‚

## ğŸ“‹ ç³»ç»ŸåŠŸèƒ½

### 1. ç³»ç»Ÿç®€ä»‹
- ç³»ç»ŸåŠŸèƒ½è¯´æ˜
- ä½¿ç”¨æŒ‡å—
- é‡è¦æç¤º

### 2. ä¹³è…ºç™Œè¯Šæ–­é¢„æµ‹
é€šè¿‡ä»¥ä¸‹ 9 ä¸ªç»†èƒå­¦ç‰¹å¾å‚æ•°è¿›è¡Œè‰¯æ¶æ€§é¢„æµ‹ï¼š
- è‚¿ç˜¤åšåº¦
- ç»†èƒå¤§å°å‡åŒ€æ€§
- ç»†èƒå½¢çŠ¶å‡åŒ€æ€§
- è¾¹ç¼˜ç²˜é™„åŠ›
- å•ä¸Šçš®ç»†èƒå¤§å°
- è£¸æ ¸
- æŸ“è‰²è´¨çš„é¢œè‰²
- æ ¸ä»æ­£å¸¸æƒ…å†µ
- æœ‰ä¸åˆ†è£‚æƒ…å†µ

**é¢„æµ‹ç»“æœåŒ…å«ï¼š**
- è‰¯æ€§/æ¶æ€§åˆ¤æ–­
- é¢„æµ‹æ¦‚ç‡
- ç½®ä¿¡åº¦
- è¯Šæ–­å»ºè®®

### 3. ä¹³è…ºç™Œç”Ÿå­˜é¢„æµ‹
åŸºäºæ‚£è€…ä¿¡æ¯å’Œä¸´åºŠåˆ†æœŸæ•°æ®è¿›è¡Œç”Ÿå­˜æœŸé¢„æµ‹ï¼š

**æ‚£è€…åŸºæœ¬ä¿¡æ¯ï¼š**
- å¹´é¾„
- ç§æ—
- å©šå§»çŠ¶å†µ
- å®¶åº­æ”¶å…¥
- å±…ä½åŒºåŸŸ

**ä¸´åºŠåˆ†æœŸä¿¡æ¯ï¼š**
- AJCCåˆ†æœŸ
- Tåˆ†æœŸï¼ˆè‚¿ç˜¤å¤§å°ï¼‰
- Nåˆ†æœŸï¼ˆæ·‹å·´ç»“ï¼‰
- Måˆ†æœŸï¼ˆè¿œå¤„è½¬ç§»ï¼‰

**æ²»ç–—ä¿¡æ¯ï¼š**
- æ‰‹æœ¯
- æ”¾ç–—
- åŒ–ç–—

**é¢„æµ‹ç»“æœåŒ…å«ï¼š**
- é¢„æµ‹ç”Ÿå­˜æ—¶é—´
- 1å¹´/3å¹´/5å¹´ç”Ÿå­˜ç‡
- é£é™©ç­‰çº§ï¼ˆä½/ä¸­/é«˜ï¼‰
- åŒ»ç–—å»ºè®®

### 4. å¼€å‘å›¢é˜Ÿä»‹ç»
- **è”¡å²³æ±Ÿ** - å‰ç«¯ & åç«¯
- **å”ç„±ç†™** - æ•´ä½“è§„åˆ’å’Œè®ºæ–‡æ’°å†™
- **è–›é›¨é‘«** - æ¨¡å‹ç®—æ³•è®¾è®¡
- **è£´å¥•é‘«** - åå‹¤
- **åˆ˜è‰ºè½©** - æ€»ç¨¿æ•´åˆ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–
```bash
npm install
```

### å¼€å‘æ¨¡å¼

**æ–¹å¼ä¸€ï¼šä¸€é”®å¯åŠ¨**
```bash
npm run dev
```
è‡ªåŠ¨ç¼–è¯‘å¹¶å¯åŠ¨æœåŠ¡å™¨ï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:3000`

**æ–¹å¼äºŒï¼šåˆ†æ­¥æ‰§è¡Œ**

1. ç¼–è¯‘ TypeScript
```bash
npm run build
```

2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run serve
```

**æ–¹å¼ä¸‰ï¼šå¼€å‘ç›‘è§†æ¨¡å¼ï¼ˆæ¨èï¼‰**

ç»ˆç«¯ 1 - è‡ªåŠ¨ç¼–è¯‘ï¼š
```bash
npm run watch
```

ç»ˆç«¯ 2 - å¯åŠ¨æœåŠ¡å™¨ï¼š
```bash
npm run serve
```

ä¿®æ”¹ä»£ç åï¼Œåˆ·æ–°æµè§ˆå™¨å³å¯çœ‹åˆ°æ•ˆæœï¼

## ğŸ“ é¡¹ç›®ç»“æ„

```
BreastCancerProject/
â”œâ”€â”€ src/                          # TypeScript æºä»£ç 
â”‚   â”œâ”€â”€ main.ts                   # ä¸»ç¨‹åºé€»è¾‘
â”‚   â””â”€â”€ types.ts                  # ç±»å‹å®šä¹‰
â”œâ”€â”€ public/                       # å‰ç«¯èµ„æº
â”‚   â”œâ”€â”€ index.html                # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ style.css             # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ js/                       # ç¼–è¯‘åçš„ JavaScript
â”‚       â”œâ”€â”€ main.js
â”‚       â”œâ”€â”€ main.js.map
â”‚       â”œâ”€â”€ types.js
â”‚       â””â”€â”€ types.js.map
â”œâ”€â”€ package.json                  # é¡¹ç›®é…ç½®
â”œâ”€â”€ tsconfig.json                 # TypeScript é…ç½®
â””â”€â”€ README.md                     # é¡¹ç›®è¯´æ˜
```

## ğŸ”Œ åç«¯æ¥å£å¯¹æ¥è¯´æ˜

### API ç«¯ç‚¹é…ç½®

åœ¨ `src/main.ts` ä¸­å®šä¹‰äº†ä¸‰ä¸ª API ç«¯ç‚¹å¸¸é‡ï¼š

```typescript
const API_ENDPOINTS = {
  diagnosis: '/api/diagnosis/predict',    // è¯Šæ–­é¢„æµ‹æ¥å£
  survival: '/api/survival/predict',      // ç”Ÿå­˜é¢„æµ‹æ¥å£
  saveRecord: '/api/records/save'         // ä¿å­˜è®°å½•æ¥å£
}
```

### æ¥å£è¯´æ˜

#### 1. è¯Šæ–­é¢„æµ‹æ¥å£

**è¯·æ±‚ï¼š** `POST /api/diagnosis/predict`

**è¯·æ±‚ä½“ï¼š**
```typescript
{
  tumorThickness: number,        // 0-10
  cellSizeUniformity: number,    // 0-10
  cellShapeUniformity: number,   // 0-10
  marginalAdhesion: number,      // 0-10
  epithelialCellSize: number,    // 0-10
  bareNuclei: number,            // 0-10
  blandChromatin: number,        // 0-10
  normalNucleoli: number,        // 0-10
  mitoses: number                // 0-10
}
```

**å“åº”ï¼š**
```typescript
{
  code: 200,
  message: "é¢„æµ‹æˆåŠŸ",
  success: true,
  data: {
    prediction: "benign" | "malignant",  // è‰¯æ€§/æ¶æ€§
    probability: 0.85,                   // æ¦‚ç‡
    confidence: 0.92,                    // ç½®ä¿¡åº¦
    timestamp: "2024-01-01T12:00:00Z",
    recommendation: "å»ºè®®è¿›ä¸€æ­¥æ£€æŸ¥..."
  }
}
```

#### 2. ç”Ÿå­˜é¢„æµ‹æ¥å£

**è¯·æ±‚ï¼š** `POST /api/survival/predict`

**è¯·æ±‚ä½“ï¼š**
```typescript
{
  age: number,
  race: "white" | "black" | "asian" | "other",
  maritalStatus: "married" | "single" | "divorced" | "widowed",
  familyIncome: number,
  residence: "urban" | "suburban" | "rural",
  ajccStage: "I" | "II" | "III" | "IV",
  tStage: "T0" | "T1" | "T2" | "T3" | "T4",
  nStage: "N0" | "N1" | "N2" | "N3",
  mStage: "M0" | "M1",
  surgery: "yes" | "no",
  radiotherapy: "yes" | "no",
  chemotherapy: "yes" | "no"
}
```

**å“åº”ï¼š**
```typescript
{
  code: 200,
  message: "é¢„æµ‹æˆåŠŸ",
  success: true,
  data: {
    survivalMonths: 48,          // é¢„æµ‹ç”Ÿå­˜æœˆæ•°
    survivalRate1Year: 0.92,     // 1å¹´ç”Ÿå­˜ç‡
    survivalRate3Year: 0.78,     // 3å¹´ç”Ÿå­˜ç‡
    survivalRate5Year: 0.65,     // 5å¹´ç”Ÿå­˜ç‡
    riskLevel: "low" | "medium" | "high",
    timestamp: "2024-01-01T12:00:00Z",
    recommendation: "å»ºè®®å®šæœŸå¤æŸ¥..."
  }
}
```

#### 3. ä¿å­˜è®°å½•æ¥å£

**è¯·æ±‚ï¼š** `POST /api/records/save`

**è¯·æ±‚ä½“ï¼š**
```typescript
{
  type: "diagnosis" | "survival",
  input: { ... },     // è¯Šæ–­æˆ–ç”Ÿå­˜é¢„æµ‹çš„è¾“å…¥æ•°æ®
  result: { ... },    // å¯¹åº”çš„é¢„æµ‹ç»“æœ
  note?: string       // å¯é€‰å¤‡æ³¨
}
```

**å“åº”ï¼š**
```typescript
{
  code: 200,
  message: "ä¿å­˜æˆåŠŸ",
  success: true,
  data: {
    recordId: "REC1704096000000",
    savedAt: "2024-01-01T12:00:00Z"
  }
}
```

### å¼€å‘æ¨¡å¼è¯´æ˜

**å½“å‰çŠ¶æ€ï¼š** ç³»ç»Ÿä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®è¿›è¡Œæ¼”ç¤º

åœ¨ `src/main.ts` ä¸­ï¼ŒAPI è°ƒç”¨å‡½æ•°å·²å®ç°ï¼Œä½†åœ¨æ— æ³•è¿æ¥åç«¯æ—¶ä¼šè‡ªåŠ¨ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼š

```typescript
async function callDiagnosisAPI(input: DiagnosisInput) {
  try {
    // å®é™…çš„ fetch è°ƒç”¨
    const response = await fetch(API_ENDPOINTS.diagnosis, {...})
    // ...
  } catch (error) {
    // æ¨¡æ‹Ÿå“åº”ï¼ˆå¼€å‘é˜¶æ®µä½¿ç”¨ï¼‰
    return mockResponse
  }
}
```

**éƒ¨ç½²æ—¶æ“ä½œï¼š**
1. ä¿®æ”¹ `API_ENDPOINTS` ä¸ºå®é™…åç«¯åœ°å€
2. å¯é€‰ï¼šç§»é™¤ `catch` å—ä¸­çš„æ¨¡æ‹Ÿæ•°æ®é€»è¾‘
3. é‡æ–°ç¼–è¯‘ï¼š`npm run build`

## ğŸ¨ ç•Œé¢ç‰¹æ€§

- âœ… ç°ä»£åŒ–æ¸å˜è®¾è®¡
- âœ… å“åº”å¼å¸ƒå±€ï¼ˆæ”¯æŒæ‰‹æœº/å¹³æ¿/ç”µè„‘ï¼‰
- âœ… å¹³æ»‘çš„åŠ¨ç”»æ•ˆæœ
- âœ… è¡¨å•å®æ—¶éªŒè¯
- âœ… å‹å¥½çš„é”™è¯¯æç¤º
- âœ… æ‰“å°å‹å¥½æ ·å¼

## ğŸ“± ç§»åŠ¨ç«¯ä¼˜åŒ–

### å®Œæ•´çš„ç§»åŠ¨ç«¯æ”¯æŒ
- âœ… **å¤šæ–­ç‚¹å“åº”å¼è®¾è®¡**ï¼š360px - 1400px+ å…¨è¦†ç›–
- âœ… **è§¦æ‘¸ä¼˜åŒ–**ï¼šæŒ‰é’®ã€æ ‡ç­¾é¡µã€è¡¨å•å…¨éƒ¨ä¼˜åŒ–è§¦æ‘¸ä½“éªŒ
- âœ… **æ¨ªå±/ç«–å±é€‚é…**ï¼šè‡ªåŠ¨è°ƒæ•´å¸ƒå±€
- âœ… **è‡ªå®šä¹‰è¡¨å•æ§ä»¶**ï¼šç»Ÿä¸€çš„è·¨å¹³å°æ ·å¼
- âœ… **å›¢é˜Ÿå¡ç‰‡è‡ªé€‚åº”**ï¼šæ¡Œé¢å¤šåˆ— â†’ æ‰‹æœºå•åˆ—
- âœ… **å¹³æ»‘æ»šåŠ¨**ï¼šiOS é£æ ¼çš„æ»‘åŠ¨ä½“éªŒ
- âœ… **æ€§èƒ½ä¼˜åŒ–**ï¼šGPU åŠ é€ŸåŠ¨ç”»

### æµ‹è¯•æ–¹å¼

**åœ¨ç”µè„‘ä¸Šæµ‹è¯•ï¼š**
1. Chrome æµè§ˆå™¨æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
2. ç‚¹å‡»è®¾å¤‡å·¥å…·æ å›¾æ ‡ï¼ˆæˆ– `Ctrl+Shift+M`ï¼‰
3. é€‰æ‹©ç§»åŠ¨è®¾å¤‡ï¼ˆå¦‚ iPhone 14 Proï¼‰

**æ‰‹æœºçœŸæœºæµ‹è¯•ï¼š**
- ç¡®ä¿æ‰‹æœºå’Œç”µè„‘åœ¨åŒä¸€ WiFi
- æ‰‹æœºæµè§ˆå™¨è®¿é—®ï¼š`http://192.168.171.131:3000`
- ï¼ˆIP åœ°å€è§ç»ˆç«¯è¾“å‡ºçš„ "Available on" éƒ¨åˆ†ï¼‰

è¯¦ç»†çš„ç§»åŠ¨ç«¯ä¼˜åŒ–è¯´æ˜è¯·æŸ¥çœ‹ï¼š[MOBILE_OPTIMIZATION.md](MOBILE_OPTIMIZATION.md)

## ğŸ”§ å¯ç”¨å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `npm run build` | ç¼–è¯‘ TypeScript |
| `npm run watch` | ç›‘è§†æ¨¡å¼ï¼Œè‡ªåŠ¨ç¼–è¯‘ |
| `npm run serve` | å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼ˆç«¯å£ 3000ï¼‰ |
| `npm run dev` | ç¼–è¯‘ + å¯åŠ¨æœåŠ¡å™¨ |

## âš ï¸ é‡è¦æç¤º

æœ¬ç³»ç»Ÿä»…ä¾›åŒ»ç–—è¾…åŠ©å‚è€ƒï¼Œä¸èƒ½æ›¿ä»£åŒ»ç”Ÿçš„ä¸“ä¸šè¯Šæ–­ã€‚æ‰€æœ‰è¯Šç–—å†³ç­–åº”ç”±ä¸“ä¸šåŒ»å¸ˆç»¼åˆåˆ¤æ–­ååšå‡ºã€‚

## ğŸ“ ç±»å‹å®šä¹‰

å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰è¯·å‚è€ƒ `src/types.ts`ï¼ŒåŒ…æ‹¬ï¼š
- `DiagnosisInput` - è¯Šæ–­è¾“å…¥
- `DiagnosisResult` - è¯Šæ–­ç»“æœ
- `SurvivalInput` - ç”Ÿå­˜é¢„æµ‹è¾“å…¥
- `SurvivalResult` - ç”Ÿå­˜é¢„æµ‹ç»“æœ
- `ApiResponse<T>` - API å“åº”
- `SaveRecordRequest` - ä¿å­˜è¯·æ±‚
- `SaveRecordResponse` - ä¿å­˜å“åº”

## ğŸš€ éƒ¨ç½²å»ºè®®

1. å°† `public/` ç›®å½•éƒ¨ç½²åˆ° Web æœåŠ¡å™¨
2. é…ç½®åç«¯ API åœ°å€
3. ç¡®ä¿ CORS è®¾ç½®æ­£ç¡®
4. å»ºè®®ä½¿ç”¨ HTTPS
5. è€ƒè™‘æ·»åŠ ç”¨æˆ·è®¤è¯

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿã€‚
